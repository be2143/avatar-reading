/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/activities/route";
exports.ids = ["app/api/activities/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Factivities%2Froute&page=%2Fapi%2Factivities%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Factivities%2Froute.js&appDir=%2FUsers%2Fbukaenkhjargal%2FDesktop%2FVoxy-Buka%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbukaenkhjargal%2FDesktop%2FVoxy-Buka&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Factivities%2Froute&page=%2Fapi%2Factivities%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Factivities%2Froute.js&appDir=%2FUsers%2Fbukaenkhjargal%2FDesktop%2FVoxy-Buka%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbukaenkhjargal%2FDesktop%2FVoxy-Buka&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_bukaenkhjargal_Desktop_Voxy_Buka_src_app_api_activities_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/activities/route.js */ \"(rsc)/./src/app/api/activities/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/activities/route\",\n        pathname: \"/api/activities\",\n        filename: \"route\",\n        bundlePath: \"app/api/activities/route\"\n    },\n    resolvedPagePath: \"/Users/bukaenkhjargal/Desktop/Voxy-Buka/src/app/api/activities/route.js\",\n    nextConfigOutput,\n    userland: _Users_bukaenkhjargal_Desktop_Voxy_Buka_src_app_api_activities_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhY3Rpdml0aWVzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhY3Rpdml0aWVzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWN0aXZpdGllcyUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRmJ1a2FlbmtoamFyZ2FsJTJGRGVza3RvcCUyRlZveHktQnVrYSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZidWthZW5raGphcmdhbCUyRkRlc2t0b3AlMkZWb3h5LUJ1a2EmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ3VCO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYnVrYWVua2hqYXJnYWwvRGVza3RvcC9Wb3h5LUJ1a2Evc3JjL2FwcC9hcGkvYWN0aXZpdGllcy9yb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWN0aXZpdGllcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FjdGl2aXRpZXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FjdGl2aXRpZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYnVrYWVua2hqYXJnYWwvRGVza3RvcC9Wb3h5LUJ1a2Evc3JjL2FwcC9hcGkvYWN0aXZpdGllcy9yb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Factivities%2Froute&page=%2Fapi%2Factivities%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Factivities%2Froute.js&appDir=%2FUsers%2Fbukaenkhjargal%2FDesktop%2FVoxy-Buka%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbukaenkhjargal%2FDesktop%2FVoxy-Buka&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/activities/route.js":
/*!*****************************************!*\
  !*** ./src/app/api/activities/route.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _app_lib_schemas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/app/lib/schemas */ \"(rsc)/./src/app/lib/schemas.js\");\n/* harmony import */ var _app_lib_mongo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/app/lib/mongo */ \"(rsc)/./src/app/lib/mongo.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_3__);\n// src/app/api/activities/route.js\n\n\n\n\nasync function GET(request) {\n    try {\n        await (0,_app_lib_mongo__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const activities = await _app_lib_schemas__WEBPACK_IMPORTED_MODULE_0__.Activity.find();\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(activities, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error in GET /api/activities:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            message: \"Internal server error\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n// To update the state\nasync function PATCH(request) {\n    try {\n        // Connect to the database\n        await (0,_app_lib_mongo__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        // Parse the incoming request body (ensure it's JSON)\n        const { activities } = await request.json();\n        // Update each activity in the list to set 'planned' to true and maintain its current state\n        const updatedActivities = [];\n        for (let activity of activities){\n            const updatedActivity = await _app_lib_schemas__WEBPACK_IMPORTED_MODULE_0__.Activity.findByIdAndUpdate(activity._id, {\n                planned: true,\n                state: activity.state\n            }, {\n                new: true\n            } // Return the updated document\n            );\n            if (updatedActivity) {\n                updatedActivities.push(updatedActivity);\n            } else {\n                console.error(`Activity with ID ${activity._id} not found`);\n            }\n        }\n        // Set other activities planned to false\n        const otherActivities = await _app_lib_schemas__WEBPACK_IMPORTED_MODULE_0__.Activity.updateMany({\n            _id: {\n                $nin: activities.map((activity)=>activity._id)\n            }\n        }, {\n            planned: false\n        });\n        // Return the updated activities\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(updatedActivities, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error in POST /api/activities:\", error.message);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            message: \"Internal server error\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n// To add a new activity to the db\nasync function POST(request) {\n    try {\n        await (0,_app_lib_mongo__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const body = await request.json();\n        // Validate required fields\n        if (!body.title || !body.imageSrc || !body.icon) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                message: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        const activity = new _app_lib_schemas__WEBPACK_IMPORTED_MODULE_0__.Activity({\n            title: body.title,\n            imageSrc: body.imageSrc,\n            icon: body.icon,\n            color: \"#ffffff\",\n            planned: false,\n            state: \"not done\"\n        });\n        await activity.save();\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(activity, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error in POST /api/activities:\", error.message);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            message: \"Internal server error\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n// To delete an activity\nasync function DELETE(request) {\n    try {\n        await (0,_app_lib_mongo__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const { title } = await request.json(); // Extract title from request body\n        if (!title) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                message: \"Missing activity title\"\n            }, {\n                status: 400\n            });\n        }\n        // Find and delete the activity by title\n        const activity = await _app_lib_schemas__WEBPACK_IMPORTED_MODULE_0__.Activity.findOneAndDelete({\n            title\n        });\n        if (!activity) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n                message: `Activity with title \"${title}\" not found`\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            message: \"Activity deleted successfully!\",\n            activity\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error in DELETE /api/activities:\", error.message);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            message: \"Internal server error\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmNlcyI6WyIvVXNlcnMvYnVrYWVua2hqYXJnYWwvRGVza3RvcC9Wb3h5LUJ1a2Evc3JjL2FwcC9hcGkvYWN0aXZpdGllcy9yb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBwL2FwaS9hY3Rpdml0aWVzL3JvdXRlLmpzXG5pbXBvcnQgeyBBY3Rpdml0eSB9IGZyb20gXCJAL2FwcC9saWIvc2NoZW1hc1wiO1xuaW1wb3J0IGNvbm5lY3RUb0RhdGFiYXNlIGZyb20gXCJAL2FwcC9saWIvbW9uZ29cIjtcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xuICAgICAgICBjb25zdCBhY3Rpdml0aWVzID0gYXdhaXQgQWN0aXZpdHkuZmluZCgpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oYWN0aXZpdGllcywgeyBzdGF0dXM6IDIwMCB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gR0VUIC9hcGkvYWN0aXZpdGllczpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IG1lc3NhZ2U6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8vIFRvIHVwZGF0ZSB0aGUgc3RhdGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChyZXF1ZXN0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ29ubmVjdCB0byB0aGUgZGF0YWJhc2VcbiAgICAgICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcblxuICAgICAgICAvLyBQYXJzZSB0aGUgaW5jb21pbmcgcmVxdWVzdCBib2R5IChlbnN1cmUgaXQncyBKU09OKVxuICAgICAgICBjb25zdCB7IGFjdGl2aXRpZXMgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBlYWNoIGFjdGl2aXR5IGluIHRoZSBsaXN0IHRvIHNldCAncGxhbm5lZCcgdG8gdHJ1ZSBhbmQgbWFpbnRhaW4gaXRzIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgY29uc3QgdXBkYXRlZEFjdGl2aXRpZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYWN0aXZpdHkgb2YgYWN0aXZpdGllcykge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjdGl2aXR5ID0gYXdhaXQgQWN0aXZpdHkuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgICAgICAgICAgICAgYWN0aXZpdHkuX2lkLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhbm5lZDogdHJ1ZSwgIC8vIFNldCAncGxhbm5lZCcgdG8gdHJ1ZSBmb3IgZWFjaCBhY3Rpdml0eVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogYWN0aXZpdHkuc3RhdGUsICAvLyBLZWVwIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhY3Rpdml0eSAoZWl0aGVyIFwiZG9uZVwiIG9yIFwibm90IGRvbmVcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0gLy8gUmV0dXJuIHRoZSB1cGRhdGVkIGRvY3VtZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZWRBY3Rpdml0eSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRBY3Rpdml0aWVzLnB1c2godXBkYXRlZEFjdGl2aXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQWN0aXZpdHkgd2l0aCBJRCAke2FjdGl2aXR5Ll9pZH0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgb3RoZXIgYWN0aXZpdGllcyBwbGFubmVkIHRvIGZhbHNlXG4gICAgICAgIGNvbnN0IG90aGVyQWN0aXZpdGllcyA9IGF3YWl0IEFjdGl2aXR5LnVwZGF0ZU1hbnkoXG4gICAgICAgICAgICB7IF9pZDogeyAkbmluOiBhY3Rpdml0aWVzLm1hcCgoYWN0aXZpdHkpID0+IGFjdGl2aXR5Ll9pZCkgfSB9LFxuICAgICAgICAgICAgeyBwbGFubmVkOiBmYWxzZSB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gUmV0dXJuIHRoZSB1cGRhdGVkIGFjdGl2aXRpZXNcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHVwZGF0ZWRBY3Rpdml0aWVzLCB7IHN0YXR1czogMjAwIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBQT1NUIC9hcGkvYWN0aXZpdGllczpcIiwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHsgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLy8gVG8gYWRkIGEgbmV3IGFjdGl2aXR5IHRvIHRoZSBkYlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgaWYgKCFib2R5LnRpdGxlIHx8ICFib2R5LmltYWdlU3JjIHx8ICFib2R5Lmljb24pIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgICAgICB7IG1lc3NhZ2U6IFwiTWlzc2luZyByZXF1aXJlZCBmaWVsZHNcIiB9LFxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gbmV3IEFjdGl2aXR5KHtcbiAgICAgICAgICAgIHRpdGxlOiBib2R5LnRpdGxlLFxuICAgICAgICAgICAgaW1hZ2VTcmM6IGJvZHkuaW1hZ2VTcmMsXG4gICAgICAgICAgICBpY29uOiBib2R5Lmljb24sXG4gICAgICAgICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBwbGFubmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YXRlOiBcIm5vdCBkb25lXCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWN0aXZpdHkuc2F2ZSgpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oYWN0aXZpdHksIHsgc3RhdHVzOiAyMDEgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gUE9TVCAvYXBpL2FjdGl2aXRpZXM6XCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IG1lc3NhZ2U6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuLy8gVG8gZGVsZXRlIGFuIGFjdGl2aXR5XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3QpIHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xuICAgICAgICBjb25zdCB7IHRpdGxlIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTsgLy8gRXh0cmFjdCB0aXRsZSBmcm9tIHJlcXVlc3QgYm9keVxuXG4gICAgICAgIGlmICghdGl0bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgICAgICB7IG1lc3NhZ2U6IFwiTWlzc2luZyBhY3Rpdml0eSB0aXRsZVwiIH0sXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluZCBhbmQgZGVsZXRlIHRoZSBhY3Rpdml0eSBieSB0aXRsZVxuICAgICAgICBjb25zdCBhY3Rpdml0eSA9IGF3YWl0IEFjdGl2aXR5LmZpbmRPbmVBbmREZWxldGUoeyB0aXRsZSB9KTtcblxuICAgICAgICBpZiAoIWFjdGl2aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICAgICAgeyBtZXNzYWdlOiBgQWN0aXZpdHkgd2l0aCB0aXRsZSBcIiR7dGl0bGV9XCIgbm90IGZvdW5kYCB9LFxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHsgbWVzc2FnZTogXCJBY3Rpdml0eSBkZWxldGVkIHN1Y2Nlc3NmdWxseSFcIiwgYWN0aXZpdHkgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiAyMDAgfVxuICAgICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBERUxFVEUgL2FwaS9hY3Rpdml0aWVzOlwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgeyBtZXNzYWdlOiBcIkludGVybmFsIHNlcnZlciBlcnJvclwiLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICAgICk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkFjdGl2aXR5IiwiY29ubmVjdFRvRGF0YWJhc2UiLCJOZXh0UmVzcG9uc2UiLCJtb25nb29zZSIsIkdFVCIsInJlcXVlc3QiLCJhY3Rpdml0aWVzIiwiZmluZCIsImpzb24iLCJzdGF0dXMiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiUEFUQ0giLCJ1cGRhdGVkQWN0aXZpdGllcyIsImFjdGl2aXR5IiwidXBkYXRlZEFjdGl2aXR5IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJwbGFubmVkIiwic3RhdGUiLCJuZXciLCJwdXNoIiwib3RoZXJBY3Rpdml0aWVzIiwidXBkYXRlTWFueSIsIiRuaW4iLCJtYXAiLCJQT1NUIiwiYm9keSIsInRpdGxlIiwiaW1hZ2VTcmMiLCJpY29uIiwiY29sb3IiLCJzYXZlIiwiREVMRVRFIiwiZmluZE9uZUFuZERlbGV0ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/activities/route.js\n");

/***/ }),

/***/ "(rsc)/./src/app/lib/mongo.js":
/*!******************************!*\
  !*** ./src/app/lib/mongo.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nconst DB_NAME = \"voxy\";\nif (!MONGODB_URI) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\nasync function connectToDatabase() {\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState >= 1) {\n        console.log(\"Reusing existing database connection\");\n        return (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection);\n    }\n    console.log(\"Establishing new database connection\");\n    try {\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, {\n            dbName: DB_NAME\n        });\n        console.log(\"Database connection established\");\n        return (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection);\n    } catch (error) {\n        console.error(\"Database connection error:\", error);\n        throw new Error(\"Could not connect to database\");\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectToDatabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xpYi9tb25nby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXO0FBQzNDLE1BQU1HLFVBQVU7QUFFaEIsSUFBSSxDQUFDSCxhQUFhO0lBQ2hCLE1BQU0sSUFBSUksTUFBTTtBQUNsQjtBQUVBLGVBQWVDO0lBQ2IsSUFBSU4sNERBQW1CLENBQUNRLFVBQVUsSUFBSSxHQUFHO1FBQ3ZDQyxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPViw0REFBbUI7SUFDNUI7SUFFQVMsUUFBUUMsR0FBRyxDQUFDO0lBQ1osSUFBSTtRQUNGLE1BQU1WLHVEQUFnQixDQUFDQyxhQUFhO1lBQ2xDVyxRQUFRUjtRQUNWO1FBQ0FLLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9WLDREQUFtQjtJQUM1QixFQUFFLE9BQU9hLE9BQU87UUFDZEosUUFBUUksS0FBSyxDQUFDLDhCQUE4QkE7UUFDNUMsTUFBTSxJQUFJUixNQUFNO0lBQ2xCO0FBQ0Y7QUFFQSxpRUFBZUMsaUJBQWlCQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvYnVrYWVua2hqYXJnYWwvRGVza3RvcC9Wb3h5LUJ1a2Evc3JjL2FwcC9saWIvbW9uZ28uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xuY29uc3QgREJfTkFNRSA9IFwidm94eVwiO1xuXG5pZiAoIU1PTkdPREJfVVJJKSB7XG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWwnKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvRGF0YWJhc2UoKSB7XG4gIGlmIChtb25nb29zZS5jb25uZWN0aW9uLnJlYWR5U3RhdGUgPj0gMSkge1xuICAgIGNvbnNvbGUubG9nKFwiUmV1c2luZyBleGlzdGluZyBkYXRhYmFzZSBjb25uZWN0aW9uXCIpO1xuICAgIHJldHVybiBtb25nb29zZS5jb25uZWN0aW9uO1xuICB9XG5cbiAgY29uc29sZS5sb2coXCJFc3RhYmxpc2hpbmcgbmV3IGRhdGFiYXNlIGNvbm5lY3Rpb25cIik7XG4gIHRyeSB7XG4gICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwge1xuICAgICAgZGJOYW1lOiBEQl9OQU1FXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coXCJEYXRhYmFzZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkXCIpO1xuICAgIHJldHVybiBtb25nb29zZS5jb25uZWN0aW9uO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJEYXRhYmFzZSBjb25uZWN0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNvbm5lY3QgdG8gZGF0YWJhc2VcIik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdFRvRGF0YWJhc2U7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJEQl9OQU1FIiwiRXJyb3IiLCJjb25uZWN0VG9EYXRhYmFzZSIsImNvbm5lY3Rpb24iLCJyZWFkeVN0YXRlIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3QiLCJkYk5hbWUiLCJlcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/lib/mongo.js\n");

/***/ }),

/***/ "(rsc)/./src/app/lib/schemas.js":
/*!********************************!*\
  !*** ./src/app/lib/schemas.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Activity: () => (/* binding */ Activity),\n/* harmony export */   Cache: () => (/* binding */ Cache),\n/* harmony export */   Card: () => (/* binding */ Card),\n/* harmony export */   Category: () => (/* binding */ Category),\n/* harmony export */   User: () => (/* binding */ User)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n// src/app/lib/schemas.js\n\n// Schema definitions\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: String,\n    age: Number,\n    diagnosis: String,\n    preferred_words: [\n        String\n    ],\n    past_interactions: Array\n}, {\n    collection: \"Users\"\n});\nconst cardSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    word: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    image: {\n        type: String\n    },\n    category: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"Category\"\n    },\n    follow_up_words: [\n        {\n            type: String\n        }\n    ]\n}, {\n    collection: 'Cards'\n});\nconst categorySchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    cards: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: \"Card\"\n        }\n    ]\n}, {\n    collection: 'Categories'\n});\nconst cacheSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    user_id: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    word: {\n        type: String,\n        required: true\n    },\n    recommendations: [\n        {\n            type: String\n        }\n    ],\n    createdAt: {\n        type: Date,\n        default: Date.now,\n        expires: 3600\n    }\n}, {\n    collection: 'Cache'\n});\nconst activitySchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    title: {\n        type: String,\n        required: true\n    },\n    imageSrc: {\n        type: String,\n        required: true\n    },\n    icon: {\n        type: String,\n        required: true\n    },\n    color: {\n        type: String,\n        default: \"#ffffff\"\n    },\n    planned: {\n        type: Boolean,\n        default: false\n    },\n    state: {\n        type: String,\n        default: \"not done\"\n    }\n}, {\n    collection: 'Activities'\n});\n// Check if models exist before creating them\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", userSchema);\nconst Card = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Card || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Card\", cardSchema);\nconst Category = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Category || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Category\", categorySchema);\nconst Cache = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Cache || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Cache\", cacheSchema);\nconst Activity = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Activity || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Activity\", activitySchema);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xpYi9zY2hlbWFzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSx5QkFBeUI7QUFDTztBQUVoQyxxQkFBcUI7QUFDckIsTUFBTUMsYUFBYSxJQUFJRCx3REFBZSxDQUFDO0lBQ3JDRyxNQUFNQztJQUNOQyxLQUFLQztJQUNMQyxXQUFXSDtJQUNYSSxpQkFBaUI7UUFBQ0o7S0FBTztJQUN6QkssbUJBQW1CQztBQUNyQixHQUFHO0lBQUVDLFlBQVk7QUFBUTtBQUV6QixNQUFNQyxhQUFhLElBQUlaLHdEQUFlLENBQUM7SUFDckNhLE1BQU07UUFBRUMsTUFBTVY7UUFBUVcsVUFBVTtRQUFNQyxRQUFRO0lBQUs7SUFDbkRDLE9BQU87UUFBRUgsTUFBTVY7SUFBTztJQUN0QmMsVUFBVTtRQUFFSixNQUFNZCx3REFBZSxDQUFDbUIsS0FBSyxDQUFDQyxRQUFRO1FBQUVDLEtBQUs7SUFBVztJQUNsRUMsaUJBQWlCO1FBQUM7WUFBRVIsTUFBTVY7UUFBTztLQUFFO0FBQ3JDLEdBQUc7SUFBRU8sWUFBWTtBQUFRO0FBRXpCLE1BQU1ZLGlCQUFpQixJQUFJdkIsd0RBQWUsQ0FBQztJQUN6Q0csTUFBTTtRQUFFVyxNQUFNVjtRQUFRVyxVQUFVO1FBQU1DLFFBQVE7SUFBSztJQUNuRFEsT0FBTztRQUFDO1lBQUVWLE1BQU1kLHdEQUFlLENBQUNtQixLQUFLLENBQUNDLFFBQVE7WUFBRUMsS0FBSztRQUFPO0tBQUU7QUFDaEUsR0FBRztJQUFFVixZQUFZO0FBQWE7QUFFOUIsTUFBTWMsY0FBYyxJQUFJekIsd0RBQWUsQ0FBQztJQUN0QzBCLFNBQVM7UUFBRVosTUFBTWQsd0RBQWUsQ0FBQ21CLEtBQUssQ0FBQ0MsUUFBUTtRQUFFQyxLQUFLO1FBQVFOLFVBQVU7SUFBSztJQUM3RUYsTUFBTTtRQUFFQyxNQUFNVjtRQUFRVyxVQUFVO0lBQUs7SUFDckNZLGlCQUFpQjtRQUFDO1lBQUViLE1BQU1WO1FBQU87S0FBRTtJQUNuQ3dCLFdBQVc7UUFBRWQsTUFBTWU7UUFBTUMsU0FBU0QsS0FBS0UsR0FBRztRQUFFQyxTQUFTO0lBQUs7QUFDNUQsR0FBRztJQUFFckIsWUFBWTtBQUFRO0FBRXpCLE1BQU1zQixpQkFBaUIsSUFBSWpDLHdEQUFlLENBQUM7SUFDekNrQyxPQUFPO1FBQUVwQixNQUFNVjtRQUFRVyxVQUFVO0lBQUs7SUFDdENvQixVQUFVO1FBQUVyQixNQUFNVjtRQUFRVyxVQUFVO0lBQUs7SUFDekNxQixNQUFNO1FBQUV0QixNQUFNVjtRQUFRVyxVQUFVO0lBQUk7SUFDcENzQixPQUFPO1FBQUV2QixNQUFNVjtRQUFRMEIsU0FBUztJQUFVO0lBQzFDUSxTQUFTO1FBQUV4QixNQUFNeUI7UUFBU1QsU0FBUztJQUFNO0lBQ3pDVSxPQUFPO1FBQUUxQixNQUFNVjtRQUFRMEIsU0FBUztJQUFXO0FBQzdDLEdBQUc7SUFBRW5CLFlBQVk7QUFBYTtBQUU5Qiw2Q0FBNkM7QUFDN0MsTUFBTThCLE9BQU96Qyx3REFBZSxDQUFDeUMsSUFBSSxJQUFJekMscURBQWMsQ0FBQyxRQUFRQztBQUM1RCxNQUFNMkMsT0FBTzVDLHdEQUFlLENBQUM0QyxJQUFJLElBQUk1QyxxREFBYyxDQUFDLFFBQVFZO0FBQzVELE1BQU1pQyxXQUFXN0Msd0RBQWUsQ0FBQzZDLFFBQVEsSUFBSTdDLHFEQUFjLENBQUMsWUFBWXVCO0FBQ3hFLE1BQU11QixRQUFROUMsd0RBQWUsQ0FBQzhDLEtBQUssSUFBSTlDLHFEQUFjLENBQUMsU0FBU3lCO0FBQy9ELE1BQU1zQixXQUFXL0Msd0RBQWUsQ0FBQytDLFFBQVEsSUFBSS9DLHFEQUFjLENBQUMsWUFBWWlDO0FBRXZCIiwic291cmNlcyI6WyIvVXNlcnMvYnVrYWVua2hqYXJnYWwvRGVza3RvcC9Wb3h5LUJ1a2Evc3JjL2FwcC9saWIvc2NoZW1hcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBwL2xpYi9zY2hlbWFzLmpzXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbi8vIFNjaGVtYSBkZWZpbml0aW9uc1xuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiBTdHJpbmcsXG4gIGFnZTogTnVtYmVyLFxuICBkaWFnbm9zaXM6IFN0cmluZyxcbiAgcHJlZmVycmVkX3dvcmRzOiBbU3RyaW5nXSxcbiAgcGFzdF9pbnRlcmFjdGlvbnM6IEFycmF5LFxufSwgeyBjb2xsZWN0aW9uOiBcIlVzZXJzXCIgfSk7XG5cbmNvbnN0IGNhcmRTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGNhdGVnb3J5OiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIkNhdGVnb3J5XCIgfSxcbiAgZm9sbG93X3VwX3dvcmRzOiBbeyB0eXBlOiBTdHJpbmcgfV1cbn0sIHsgY29sbGVjdGlvbjogJ0NhcmRzJyB9KTtcblxuY29uc3QgY2F0ZWdvcnlTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgY2FyZHM6IFt7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIkNhcmRcIiB9XVxufSwgeyBjb2xsZWN0aW9uOiAnQ2F0ZWdvcmllcycgfSk7XG5cbmNvbnN0IGNhY2hlU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHVzZXJfaWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwiVXNlclwiLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcmVjb21tZW5kYXRpb25zOiBbeyB0eXBlOiBTdHJpbmcgfV0sXG4gIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdywgZXhwaXJlczogMzYwMCB9XG59LCB7IGNvbGxlY3Rpb246ICdDYWNoZScgfSk7XG5cbmNvbnN0IGFjdGl2aXR5U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgaW1hZ2VTcmM6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBpY29uOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxuICBjb2xvcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiI2ZmZmZmZlwiIH0sXG4gIHBsYW5uZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgc3RhdGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIm5vdCBkb25lXCIgfVxufSwgeyBjb2xsZWN0aW9uOiAnQWN0aXZpdGllcycgfSk7XG5cbi8vIENoZWNrIGlmIG1vZGVscyBleGlzdCBiZWZvcmUgY3JlYXRpbmcgdGhlbVxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVscy5Vc2VyIHx8IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCB1c2VyU2NoZW1hKTtcbmNvbnN0IENhcmQgPSBtb25nb29zZS5tb2RlbHMuQ2FyZCB8fCBtb25nb29zZS5tb2RlbChcIkNhcmRcIiwgY2FyZFNjaGVtYSk7XG5jb25zdCBDYXRlZ29yeSA9IG1vbmdvb3NlLm1vZGVscy5DYXRlZ29yeSB8fCBtb25nb29zZS5tb2RlbChcIkNhdGVnb3J5XCIsIGNhdGVnb3J5U2NoZW1hKTtcbmNvbnN0IENhY2hlID0gbW9uZ29vc2UubW9kZWxzLkNhY2hlIHx8IG1vbmdvb3NlLm1vZGVsKFwiQ2FjaGVcIiwgY2FjaGVTY2hlbWEpO1xuY29uc3QgQWN0aXZpdHkgPSBtb25nb29zZS5tb2RlbHMuQWN0aXZpdHkgfHwgbW9uZ29vc2UubW9kZWwoXCJBY3Rpdml0eVwiLCBhY3Rpdml0eVNjaGVtYSk7XG5cbmV4cG9ydCB7IFVzZXIsIENhcmQsIENhdGVnb3J5LCBDYWNoZSwgQWN0aXZpdHkgfTsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsImFnZSIsIk51bWJlciIsImRpYWdub3NpcyIsInByZWZlcnJlZF93b3JkcyIsInBhc3RfaW50ZXJhY3Rpb25zIiwiQXJyYXkiLCJjb2xsZWN0aW9uIiwiY2FyZFNjaGVtYSIsIndvcmQiLCJ0eXBlIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJpbWFnZSIsImNhdGVnb3J5IiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsImZvbGxvd191cF93b3JkcyIsImNhdGVnb3J5U2NoZW1hIiwiY2FyZHMiLCJjYWNoZVNjaGVtYSIsInVzZXJfaWQiLCJyZWNvbW1lbmRhdGlvbnMiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsImV4cGlyZXMiLCJhY3Rpdml0eVNjaGVtYSIsInRpdGxlIiwiaW1hZ2VTcmMiLCJpY29uIiwiY29sb3IiLCJwbGFubmVkIiwiQm9vbGVhbiIsInN0YXRlIiwiVXNlciIsIm1vZGVscyIsIm1vZGVsIiwiQ2FyZCIsIkNhdGVnb3J5IiwiQ2FjaGUiLCJBY3Rpdml0eSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/lib/schemas.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Factivities%2Froute&page=%2Fapi%2Factivities%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Factivities%2Froute.js&appDir=%2FUsers%2Fbukaenkhjargal%2FDesktop%2FVoxy-Buka%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbukaenkhjargal%2FDesktop%2FVoxy-Buka&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();